<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>inside</title>
 <link rel="stylesheet" href="./styles.css?v=2">

</head>

<body>
  <div style="position:fixed;left:6px;bottom:6px;font-size:11px;opacity:.5;z-index:9999">inside v2</div>
  <header class="inside-topbar">
    <div class="inside-brand">inside</div>
    <nav class="inside-nav">
      <a href="/">gallery</a>
      <a href="/inside.html" aria-current="page">blog</a>
    </nav>
  </header>

  <main class="inside-layout">

    <aside class="inside-side">
      <section class="side-card">
        <div class="side-title">æœ€æ–°ã®è¨˜äº‹</div>
        <ul class="side-list" id="latestList">

        </ul>
      </section>

      <section class="side-card">
        <div class="side-title">æœˆåˆ¥</div>
        <ul class="side-list" id="archiveList">

        </ul>
      </section>
    </aside>


    <section class="inside-feed">
      <div class="feed-title">è¨˜äº‹ä¸€è¦§</div>
      <div id="postList" class="post-list"></div>
    </section>
  </main>

  <script>

    const posts = [
      {
        id: "post_001",
        title: "å‰£æŒåˆ€ä¹Ÿã«ã¤ã„ã¦",
        date: "2026-01-22",
        excerpt: "ãƒ©ã‚¤ãƒ–ã®ã‚ã¨æ•°æ—¥ã€è¨€è‘‰ãŒå‡ºã¦ã“ãªã‹ã£ãŸè©±â€¦",
      },
      {
        id: "post_002",
        title: "ãƒ¡ãƒ¢ï¼šé™ã‹ãªç½®ãå ´æ‰€",
        date: "2026-01-20",
        excerpt: "åˆ†ã‹ã‚‹äººã ã‘åˆ†ã‹ã‚‹å ´æ‰€ã«æ–‡ç« ã‚’ç½®ãè©±â€¦",
      },
    ];


    const postList = document.getElementById("postList");
    postList.innerHTML = posts.map(p => `
      <article class="post-card">
        <a class="post-title" href="/inside/${p.id}.html">${p.title}</a>
        <div class="post-meta">${p.date}</div>
        <p class="post-excerpt">${p.excerpt}</p>

        <!-- ã“ã“ã¯æ¬¡STEPã§â€œæœ¬ç‰©ã®ã„ã„ã­/ã‚³ãƒ¡ãƒ³ãƒˆâ€ã«ã™ã‚‹ -->
        <div class="post-actions">
          <button class="mini-btn" type="button">â™¡ ã„ã„ã­</button>
          <button class="mini-btn" type="button">ğŸ’¬ ã‚³ãƒ¡ãƒ³ãƒˆ</button>
        </div>
      </article>
    `).join("");


    const latestList = document.getElementById("latestList");
    latestList.innerHTML = posts.slice(0,3).map(p => `
      <li><a href="/inside/${p.id}.html">${p.title}</a></li>
    `).join("");

    const byMonth = new Map();
    posts.forEach(p => {
      const ym = p.date.slice(0,7);
      byMonth.set(ym, (byMonth.get(ym) || 0) + 1);
    });

    const archiveList = document.getElementById("archiveList");
    archiveList.innerHTML = [...byMonth.entries()]
      .sort((a,b) => b[0].localeCompare(a[0]))
      .map(([ym,count]) => `<li><a href="/inside.html?ym=${ym}">${ym} (${count})</a></li>`)
      .join("");
  </script>
</body>
</html>
